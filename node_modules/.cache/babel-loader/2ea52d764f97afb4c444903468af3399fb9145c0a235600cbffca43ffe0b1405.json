{"ast":null,"code":"// Copyright 2013 The Obvious Corporation.\n\n/**\n * @fileoverview Helpers made available via require('phantomjs') once package is\n * installed.\n */\n\nvar fs = require('fs');\nvar path = require('path');\nvar spawn = require('child_process').spawn;\nvar Promise = require('es6-promise').Promise;\n\n/**\n * Where the phantom binary can be found.\n * @type {string}\n */\ntry {\n  var location = require('./location');\n  exports.path = path.resolve(__dirname, location.location);\n  exports.platform = location.platform;\n  exports.arch = location.arch;\n} catch (e) {\n  // Must be running inside install script.\n  exports.path = null;\n}\n\n/**\n * The version of phantomjs installed by this package.\n * @type {number}\n */\nexports.version = '2.1.1';\n\n/**\n * Returns a clean path that helps avoid `which` finding bin files installed\n * by NPM for this repo.\n * @param {string} path\n * @return {string}\n */\nexports.cleanPath = function (path) {\n  return path.replace(/:[^:]*node_modules[^:]*/g, '').replace(/(^|:)\\.\\/bin(\\:|$)/g, ':').replace(/^:+/, '').replace(/:+$/, '');\n};\n\n// Make sure the binary is executable.  For some reason doing this inside\n// install does not work correctly, likely due to some NPM step.\nif (exports.path) {\n  try {\n    // avoid touching the binary if it's already got the correct permissions\n    var st = fs.statSync(exports.path);\n    var mode = st.mode | parseInt('0555', 8);\n    if (mode !== st.mode) {\n      fs.chmodSync(exports.path, mode);\n    }\n  } catch (e) {\n    // Just ignore error if we don't have permission.\n    // We did our best. Likely because phantomjs was already installed.\n  }\n}\n\n/**\n * Executes a script or just runs PhantomJS\n */\nexports.exec = function () {\n  var args = Array.prototype.slice.call(arguments);\n  return spawn(exports.path, args);\n};\n\n/**\n * Runs PhantomJS with provided options\n * @example\n * // handy with WebDriver\n * phantomjs.run('--webdriver=4444').then(program => {\n *   // do something\n *   program.kill()\n * })\n * @returns {Promise} the process of PhantomJS\n */\nexports.run = function () {\n  var args = arguments;\n  return new Promise(function (resolve, reject) {\n    try {\n      var program = exports.exec.apply(null, args);\n      var isFirst = true;\n      var stderr = '';\n      program.stdout.on('data', function () {\n        // This detects PhantomJS instance get ready.\n        if (!isFirst) return;\n        isFirst = false;\n        resolve(program);\n      });\n      program.stderr.on('data', function (data) {\n        stderr = stderr + data.toString('utf8');\n      });\n      program.on('error', function (err) {\n        if (!isFirst) return;\n        isFirst = false;\n        reject(err);\n      });\n      program.on('exit', function (code) {\n        if (!isFirst) return;\n        isFirst = false;\n        if (code == 0) {\n          // PhantomJS doesn't use exit codes correctly :(\n          if (stderr.indexOf('Error:') == 0) {\n            reject(new Error(stderr));\n          } else {\n            resolve(program);\n          }\n        } else {\n          reject(new Error('Exit code: ' + code));\n        }\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};","map":{"version":3,"names":["fs","require","path","spawn","Promise","location","exports","resolve","__dirname","platform","arch","e","version","cleanPath","replace","st","statSync","mode","parseInt","chmodSync","exec","args","Array","prototype","slice","call","arguments","run","reject","program","apply","isFirst","stderr","stdout","on","data","toString","err","code","indexOf","Error"],"sources":["/Users/jeffreyvanoosterwijk/Desktop/repos/resume-generator/node_modules/phantomjs-prebuilt/lib/phantomjs.js"],"sourcesContent":["// Copyright 2013 The Obvious Corporation.\n\n/**\n * @fileoverview Helpers made available via require('phantomjs') once package is\n * installed.\n */\n\nvar fs = require('fs')\nvar path = require('path')\nvar spawn = require('child_process').spawn\nvar Promise = require('es6-promise').Promise\n\n\n/**\n * Where the phantom binary can be found.\n * @type {string}\n */\ntry {\n  var location = require('./location')\n  exports.path = path.resolve(__dirname, location.location)\n  exports.platform = location.platform\n  exports.arch = location.arch\n} catch(e) {\n  // Must be running inside install script.\n  exports.path = null\n}\n\n\n/**\n * The version of phantomjs installed by this package.\n * @type {number}\n */\nexports.version = '2.1.1'\n\n\n/**\n * Returns a clean path that helps avoid `which` finding bin files installed\n * by NPM for this repo.\n * @param {string} path\n * @return {string}\n */\nexports.cleanPath = function (path) {\n  return path\n      .replace(/:[^:]*node_modules[^:]*/g, '')\n      .replace(/(^|:)\\.\\/bin(\\:|$)/g, ':')\n      .replace(/^:+/, '')\n      .replace(/:+$/, '')\n}\n\n\n// Make sure the binary is executable.  For some reason doing this inside\n// install does not work correctly, likely due to some NPM step.\nif (exports.path) {\n  try {\n    // avoid touching the binary if it's already got the correct permissions\n    var st = fs.statSync(exports.path)\n    var mode = st.mode | parseInt('0555', 8)\n    if (mode !== st.mode) {\n      fs.chmodSync(exports.path, mode)\n    }\n  } catch (e) {\n    // Just ignore error if we don't have permission.\n    // We did our best. Likely because phantomjs was already installed.\n  }\n}\n\n/**\n * Executes a script or just runs PhantomJS\n */\nexports.exec = function () {\n  var args = Array.prototype.slice.call(arguments)\n  return spawn(exports.path, args)\n}\n\n/**\n * Runs PhantomJS with provided options\n * @example\n * // handy with WebDriver\n * phantomjs.run('--webdriver=4444').then(program => {\n *   // do something\n *   program.kill()\n * })\n * @returns {Promise} the process of PhantomJS\n */\nexports.run = function () {\n  var args = arguments\n  return new Promise(function (resolve, reject) {\n    try {\n      var program = exports.exec.apply(null, args)\n      var isFirst = true\n      var stderr = ''\n      program.stdout.on('data', function () {\n        // This detects PhantomJS instance get ready.\n        if (!isFirst) return\n        isFirst = false\n        resolve(program)\n      })\n      program.stderr.on('data', function (data) {\n        stderr = stderr + data.toString('utf8')\n      })\n      program.on('error', function (err) {\n        if (!isFirst) return\n        isFirst = false\n        reject(err)\n      })\n      program.on('exit', function (code) {\n        if (!isFirst) return\n        isFirst = false\n        if (code == 0) {\n          // PhantomJS doesn't use exit codes correctly :(\n          if (stderr.indexOf('Error:') == 0) {\n            reject(new Error(stderr))\n          } else {\n            resolve(program)\n          }\n        } else {\n          reject(new Error('Exit code: ' + code))\n        }\n      })\n    } catch (err) {\n      reject(err)\n    }\n  })\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}